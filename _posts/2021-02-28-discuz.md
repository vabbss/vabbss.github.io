---
bá»‘ cá»¥c: bÃ i
title: CÃ¡ch thÃªm trang 404 gá»‘c vÃ o DiscuzX
tháº»: [PHP, DiscuzX]
---

Chá»‰ cáº§n cáº£i thiá»‡n tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng <! - more ->

# NguyÃªn nhÃ¢n
Giá»‘ng nhÆ° trang web má»›i hiá»‡n táº¡i, vÃ¬ engine Ä‘Æ°á»£c sá»­ dá»¥ng ngÃ y cÃ ng tiÃªn tiáº¿n hÆ¡n nÃªn Ä‘Æ°á»ng dáº«n cá»§a trang web trÃ´ng ráº¥t Ä‘áº¹p, nhá»¯ng ngÆ°á»i thÆ°á»ng gá»i Ä‘Ã³ lÃ  Ä‘á»‹nh tuyáº¿n trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn.
CÃ¡c trang web trÆ°á»›c Ä‘Ã¢y thÃ¬ khÃ¡c. Háº§u háº¿t cÃ¡c chÆ°Æ¡ng trÃ¬nh trang web trÆ°á»›c Ä‘Ã¢y tá»“n táº¡i á»Ÿ dáº¡ng tá»‡p vÃ  cÃ¡c chÆ°Æ¡ng trÃ¬nh mÃ¡y chá»§ Ä‘á»c cÃ¡c tá»‡p tÆ°Æ¡ng á»©ng khi chÃºng Ä‘Æ°á»£c truy cáº­p. PHP hÆ¡i cÅ©, Ä‘áº·c biá»‡t lÃ  Ä‘á»‘i vá»›i nhá»¯ng ngÆ°á»i nhÆ° tÃ´i, nhá»¯ng ngÆ°á»i khÃ´ng thÃ­ch sá»­ dá»¥ng cÃ¡c khuÃ´n khá»• vÃ  thÃ­ch PHP báº£n Ä‘á»‹a.
NhÆ°ng trÆ°á»›c Ä‘Ã¢y, cÅ©ng cÃ³ nhiá»u cÃ¡ch Ä‘á»ƒ lÃ m cho URL Ä‘Æ°á»£c truy cáº­p trá»Ÿ nÃªn láº¡ máº¯t. ThÃ´ng thÆ°á»ng, chÃºng tÃ´i gá»i Ä‘Ã³ lÃ  giáº£ tÄ©nh vÃ  Ä‘Ã³ thÆ°á»ng lÃ  chÆ°Æ¡ng trÃ¬nh mÃ¡y chá»§ ghi láº¡i Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng á»©ng vÃ o Ä‘á»‹a chá»‰ thá»±c cá»§a tá»‡p theo cÃ¡c quy táº¯c.
Tuy nhiÃªn, cÅ©ng cÃ³ nhiá»u cÃ´ng cá»¥ viáº¿t láº¡i Ä‘Æ°á»ng dáº«n cá»§a táº¥t cáº£ cÃ¡c tÃ¬nh huá»‘ng vÃ o má»™t tá»‡p, sau Ä‘Ã³ xá»­ lÃ½ tá»« tá»« theo má»™t tá»‡p. Thá»±c táº¿, Ä‘Ã¢y Ä‘Ã£ lÃ  má»™t lá»™ trÃ¬nh, giá»‘ng nhÆ° [cÃ´ng cá»¥ chá»‘ng táº¡o siÃªu Ä‘Æ¡n giáº£n] mÃ  tÃ´i Ä‘Ã£ viáº¿t trÆ°á»›c Ä‘Ã¢y (/ 2021/01/06 / proxy.html) lÃ  nhÆ° váº­y, bao gá»“m má»™t sá»‘ cÃ´ng cá»¥ blog, cháº³ng háº¡n nhÆ° WordPress, Typecho, v.v. vÃ  má»™t sá»‘ CMS cÅ©ng há»— trá»£ nÃ³.
Tháº­t khÃ´ng may, DiscuzX, vá»›i tÆ° cÃ¡ch lÃ  má»™t cÃ´ng cá»¥ diá»…n Ä‘Ã n lÃ¢u Ä‘á»i, sáº½ khÃ´ng nháº­n Ä‘Æ°á»£c táº¥t cáº£ cÃ¡c yÃªu cáº§u Ä‘áº¿n chÆ°Æ¡ng trÃ¬nh xá»­ lÃ½, Ä‘iá»u nÃ y dáº«n Ä‘áº¿n má»™t váº¥n Ä‘á», Ä‘Ã³ lÃ  cÃ¡c yÃªu cáº§u sai sáº½ khÃ´ng Ä‘Æ°á»£c DiscuzX xá»­ lÃ½ mÃ  lÃ  do DiscuzX xá»­ lÃ½ chÆ°Æ¡ng trÃ¬nh mÃ¡y chá»§.
Do Ä‘Ã³, khi DiscuzX gáº·p sá»± cá»‘ Ä‘Æ°á»ng dáº«n 404, nÃ³ chá»‰ lÃ  mÃ u Ä‘en trÃªn ná»n tráº¯ng, vá»›i chá»¯ 404 Not Found Ä‘Æ°á»£c viáº¿t lá»›n, ráº¥t xáº¥u. PhÆ°Æ¡ng phÃ¡p xá»­ lÃ½ chung lÃ  chá»‰ hoÃ n thÃ nh má»™t trang 404, cÃ³ váº» ráº¥t khÃ¡c tá»« phong cÃ¡ch trang web. phÃ¹ há»£p.
VÃ¬ váº­y, hÃ´m nay tÃ´i muá»‘n giáº£i quyáº¿t váº¥n Ä‘á» nÃ y vÃ  lÃ m cho chÆ°Æ¡ng trÃ¬nh lÃ¢u Ä‘á»i nÃ y trá»Ÿ nÃªn hiá»‡n Ä‘áº¡i hÆ¡n má»™t chÃºt.

# Dung dá»‹ch
Thá»±c ra, viá»‡c giáº£i quyáº¿t váº¥n Ä‘á» nÃ y ráº¥t Ä‘Æ¡n giáº£n, chá»‰ cáº§n gá»i chÆ°Æ¡ng trÃ¬nh DiscuzX Ä‘á»ƒ táº¡o trang nÃ y, nhÆ° váº­y sau Ä‘Ã¢y lÃ  Ä‘oáº¡n mÃ£ Ä‘á»ƒ táº¡o trang nÃ y (do viáº¿t tÃ¹y tiá»‡n nhÃ¬n vÃ o biáº¿n máº«u nÃªn cÃ³ thá»ƒ cÃ³ mÃ£ thá»«a, nhÆ°ng nÃ³ váº«n cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng):
```php
<?php
define('CURSCRIPT', '404');
require './source/class/class_core.php';
C::app()->init();
$navtitle = "æç¤ºä¿¡æ¯"; 
$show_message = "æŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨";
$alerttype = 'alert_error';
$allowreturn = 1;
$param['msgtype'] = 1;
include template('common/showmessage');
```
LÆ°u tá»‡p nÃ y dÆ°á»›i dáº¡ng 404.php, sau Ä‘Ã³ Ä‘áº·t nÃ³ vÃ o thÆ° má»¥c gá»‘c cá»§a trang web, sau Ä‘Ã³ Ä‘áº·t trang lá»—i trong cáº¥u hÃ¬nh mÃ¡y chá»§ thÃ nh tá»‡p nÃ y, giá»‘ng nhÆ° Nginx, báº¡n cÃ³ thá»ƒ thÃªm má»™t cÃ¢u `error_page 404 /404.php; `trong pháº§n mÃ¡y chá»§. KhÃ´ng sao.

# Tá»•ng há»£p
Hiá»‡n táº¡i, cÃ³ váº» nhÆ° háº§u háº¿t táº¥t cáº£ cÃ¡c diá»…n Ä‘Ã n mÃ  tÃ´i tá»«ng xem (ngay cáº£ khi nÃ³ khÃ´ng pháº£i lÃ  DiscuzX) Ä‘á»u khÃ´ng Ä‘áº¡t Ä‘Æ°á»£c sá»± tÃ­ch há»£p hoÃ n háº£o cá»§a cÃ¡c trang vÃ  trang web 404. CÃ³ láº½ tÃ´i lÃ  ngÆ°á»i Ä‘áº§u tiÃªn viáº¿t loáº¡i Ä‘iá»u nÃ y ğŸ˜€? Báº±ng cÃ¡ch nÃ y, báº¡n cÃ³ thá»ƒ dá»… dÃ ng cáº£i thiá»‡n tráº£i nghiá»‡m trang web trong nhá»¯ng trÆ°á»ng há»£p Ä‘áº·c biá»‡t ...
